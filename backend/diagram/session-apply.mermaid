sequenceDiagram
    participant 사용자
    participant 클라이언트
    participant 서버
    participant 러닝세션

    사용자->>클라이언트: 러닝 세션 참여 요청
    클라이언트->>서버: 참여 요청 전송
    서버->>서버: 러닝 세션 유형 확인

    alt 정규런
        서버->>서버: 사용자의 크루 가입 여부 확인
        alt 크루 멤버인 경우
            서버->>러닝세션: 참여 요청 수락
            러닝세션->>서버: 수락 확인
            서버->>클라이언트: 참여 수락 응답
            클라이언트->>사용자: 참여 수락 알림
        else 크루 멤버가 아닌 경우
            서버->>클라이언트: 참여 거부 응답
            클라이언트->>사용자: 참여 거부 알림
        end
    else 오픈런 또는 번개런
        서버->>러닝세션: 참여 요청 수락
        러닝세션->>서버: 수락 확인
        서버->>클라이언트: 참여 수락 응답
        클라이언트->>사용자: 참여 수락 알림
    end